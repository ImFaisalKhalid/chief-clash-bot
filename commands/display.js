const Discord = require('discord.js');
const fs = require('fs');

function display_names(clientg) {

    // Makes an easy to parse JSON object using our strike file
    var strike_data = require('../user_strikes_data.json');

    // Get a list of the names
    var usernames = []
    for (key in strike_data) {
        usernames.push(strike_data[key].name);
    }

    // inside a command, event listener, etc.
    const exampleEmbed = new Discord.MessageEmbed() 
        .setColor('#9d03fc')
        .setAuthor('Display names? Well, here you go:', 'https://api-assets.clashofclans.com/badges/512/xXro3-How4UeBogChbE8uiFRM8iCM1jAQEKbGKKGhmU.png')
        .addFields(
            { name: "War Farmers: ", value: usernames }
        )
        .setTimestamp()
        .setFooter('Generated by Chief Bot Alpha', 'https://api-assets.clashofclans.com/badges/512/xXro3-How4UeBogChbE8uiFRM8iCM1jAQEKbGKKGhmU.png');

    const channel = client.channels.cache.get('717213839267201061');
    channel.send(exampleEmbed);

    //msg.reply(usernames);
}

/*
  The functions that are exported from this module (meaning they can be used in other files as well)
*/
module.exports = {

    display_names : display_names

};
